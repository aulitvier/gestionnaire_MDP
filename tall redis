[1mdiff --git a/src/Gestionnaire_de_mot_de_passe/__pycache__/forms.cpython-311.pyc b/src/Gestionnaire_de_mot_de_passe/__pycache__/forms.cpython-311.pyc[m
[1mindex adfc5f5..1e360eb 100644[m
Binary files a/src/Gestionnaire_de_mot_de_passe/__pycache__/forms.cpython-311.pyc and b/src/Gestionnaire_de_mot_de_passe/__pycache__/forms.cpython-311.pyc differ
[1mdiff --git a/src/Gestionnaire_de_mot_de_passe/__pycache__/settings.cpython-311.pyc b/src/Gestionnaire_de_mot_de_passe/__pycache__/settings.cpython-311.pyc[m
[1mindex 66549ef..908a667 100644[m
Binary files a/src/Gestionnaire_de_mot_de_passe/__pycache__/settings.cpython-311.pyc and b/src/Gestionnaire_de_mot_de_passe/__pycache__/settings.cpython-311.pyc differ
[1mdiff --git a/src/Gestionnaire_de_mot_de_passe/__pycache__/urls.cpython-311.pyc b/src/Gestionnaire_de_mot_de_passe/__pycache__/urls.cpython-311.pyc[m
[1mindex ced4588..a024555 100644[m
Binary files a/src/Gestionnaire_de_mot_de_passe/__pycache__/urls.cpython-311.pyc and b/src/Gestionnaire_de_mot_de_passe/__pycache__/urls.cpython-311.pyc differ
[1mdiff --git a/src/Gestionnaire_de_mot_de_passe/__pycache__/views.cpython-311.pyc b/src/Gestionnaire_de_mot_de_passe/__pycache__/views.cpython-311.pyc[m
[1mindex 557d42f..f0f9825 100644[m
Binary files a/src/Gestionnaire_de_mot_de_passe/__pycache__/views.cpython-311.pyc and b/src/Gestionnaire_de_mot_de_passe/__pycache__/views.cpython-311.pyc differ
[1mdiff --git a/src/Gestionnaire_de_mot_de_passe/settings.py b/src/Gestionnaire_de_mot_de_passe/settings.py[m
[1mindex ff03aae..5455f1d 100644[m
[1m--- a/src/Gestionnaire_de_mot_de_passe/settings.py[m
[1m+++ b/src/Gestionnaire_de_mot_de_passe/settings.py[m
[36m@@ -16,7 +16,8 @@[m [mfrom dotenv import load_dotenv[m
 from pathlib import Path[m
 from django.conf import global_settings[m
 from django.conf.global_settings import AUTH_USER_MODEL[m
[31m-[m
[32m+[m[32mimport djcelery[m
[32m+[m[32mdjcelery.setup_loader()[m
 # Build paths inside the project like this: BASE_DIR / 'subdir'.[m
 BASE_DIR = Path(__file__).resolve().parent.parent[m
 [m
[36m@@ -46,7 +47,8 @@[m [mINSTALLED_APPS = [[m
     'user',[m
     'identifier',[m
     'identifier_user',[m
[31m-    'extra_views'[m
[32m+[m[32m    'extra_views',[m
[32m+[m[32m    'djcelery'[m
 ][m
 [m
 MIDDLEWARE = [[m
[36m@@ -133,6 +135,9 @@[m [mUSE_TZ = True[m
 # https://docs.djangoproject.com/en/4.2/howto/static-files/[m
 [m
 STATIC_URL = 'static/'[m
[32m+[m[32mSTATICFILES_DIRS = ([m
[32m+[m[32m    os.path.join('Gestionnaire_de_mot_de_passe/static'),[m
[32m+[m[32m)[m
 [m
 # Default primary key field type[m
 # https://docs.djangoproject.com/en/4.2/ref/settings/#default-auto-field[m
[1mdiff --git a/src/Gestionnaire_de_mot_de_passe/templates/accounts/homepageLogin.html b/src/Gestionnaire_de_mot_de_passe/templates/accounts/homepageLogin.html[m
[1mindex 77f4358..2dac89b 100644[m
[1m--- a/src/Gestionnaire_de_mot_de_passe/templates/accounts/homepageLogin.html[m
[1m+++ b/src/Gestionnaire_de_mot_de_passe/templates/accounts/homepageLogin.html[m
[36m@@ -6,6 +6,8 @@[m
 </head>[m
 <body>[m
         <h1>Bienvenue {{ form }}</h1>[m
[31m-        <a href="{% url 'admin:logout' %}">D√©connexion</a>[m
[32m+[m[32m        <a href="{% url 'admin:logout' %}">D√©connexion</a><br/>[m
[32m+[m[32m        <a href="{% url 'username_display' %}">afficher mes identifiants.[m
[32m+[m
 </body>[m
 </html>[m
\ No newline at end of file[m
[1mdiff --git a/src/Gestionnaire_de_mot_de_passe/templates/accounts/signup.html b/src/Gestionnaire_de_mot_de_passe/templates/accounts/signup.html[m
[1mindex cb35652..6ea6913 100644[m
[1m--- a/src/Gestionnaire_de_mot_de_passe/templates/accounts/signup.html[m
[1m+++ b/src/Gestionnaire_de_mot_de_passe/templates/accounts/signup.html[m
[36m@@ -1,7 +1,9 @@[m
[32m+[m[32m{% load static %}[m
 <!DOCTYPE html>[m
 <html lang="fr">[m
 <head>[m
     <meta charset="UTF-8">[m
[32m+[m[32m    <link rel="stylesheet" href="{% static 'css/style.css' %}">[m
     <title>Cr√©er un compte</title>[m
 </head>[m
 <body>[m
[36m@@ -10,7 +12,9 @@[m
             {% csrf_token %}[m
             {{ form.as_table }}[m
         </table>[m
[32m+[m[32m        <div>[m
         <input type="submit" value="valider">[m
[32m+[m[32m        </div>[m
     </form>[m
 </body>[m
 </html>[m
\ No newline at end of file[m
[1mdiff --git a/src/Gestionnaire_de_mot_de_passe/templates/identifier_manage/display_usernames.html b/src/Gestionnaire_de_mot_de_passe/templates/identifier_manage/display_usernames.html[m
[1mindex b931e06..b0348b7 100644[m
[1m--- a/src/Gestionnaire_de_mot_de_passe/templates/identifier_manage/display_usernames.html[m
[1m+++ b/src/Gestionnaire_de_mot_de_passe/templates/identifier_manage/display_usernames.html[m
[36m@@ -5,12 +5,14 @@[m
     <title>Document</title>[m
 </head>[m
 <body>[m
[31m-    <h1>Voci tous vos identifiants</h1>[m
[31m-    {% for username in username_list %}[m
[31m-    <p>{{ username.username }}</p>[m
[31m-    <a href="{% url 'username_update' username.pk %}">Modifier</a>[m
[32m+[m[32m    <h1>Voici tous vos identifiants</h1>[m
[32m+[m[32m    {% for identifier in login_informations_list %}[m
[32m+[m[32m    <p>{{ identifier.password }}</p>[m
[32m+[m[32m    <p>{{ identifier.website_name }}</p>[m
[32m+[m[32m    <p>{{ identifier.Username_id.username }}</p>[m
[32m+[m[32m    <a href="{% url 'username_update' identifier.Username_id.id %}">Modifier</a>[m
     </br>[m
[31m-    <a href="{% url 'username_delete' username.pk %}">Supprimer</a>[m
[32m+[m[32m    <a href="{% url 'username_delete' identifier.Username_id.id %}">Supprimer</a>[m
     {% endfor %}[m
 </body>[m
 </html>[m
\ No newline at end of file[m
[1mdiff --git a/src/Gestionnaire_de_mot_de_passe/templates/identifier_manage/testaffiche.html b/src/Gestionnaire_de_mot_de_passe/templates/identifier_manage/testaffiche.html[m
[1mdeleted file mode 100644[m
[1mindex 037c0da..0000000[m
[1m--- a/src/Gestionnaire_de_mot_de_passe/templates/identifier_manage/testaffiche.html[m
[1m+++ /dev/null[m
[36m@@ -1,20 +0,0 @@[m
[31m-<!DOCTYPE html>[m
[31m-<html lang="en">[m
[31m-<head>[m
[31m-    <meta charset="UTF-8">[m
[31m-    <title>Identifiant(s)</title>[m
[31m-</head>[m
[31m-<body>[m
[31m-    <p>test</p>[m
[31m-    <form method="post">{% csrf_token %}[m
[31m-        <table>[m
[31m-            {{ form }}[m
[31m-            {% for formset in inlines %}[m
[31m-                {{ formset }}[m
[31m-            {% endfor %}[m
[31m-        </table>[m
[31m-        <input type="submit" value="tester"/>[m
[31m-    </form>[m
[31m-    {{ message }}[m
[31m-</body>[m
[31m-</html>[m
\ No newline at end of file[m
[1mdiff --git a/src/Gestionnaire_de_mot_de_passe/templates/identifier_manage/username.html b/src/Gestionnaire_de_mot_de_passe/templates/identifier_manage/username.html[m
[1mindex f17d06e..5731fff 100644[m
[1m--- a/src/Gestionnaire_de_mot_de_passe/templates/identifier_manage/username.html[m
[1m+++ b/src/Gestionnaire_de_mot_de_passe/templates/identifier_manage/username.html[m
[36m@@ -10,6 +10,9 @@[m
         <table>[m
             {% csrf_token %}[m
             {{ form.as_table }}[m
[32m+[m[32m            {% for formset in inlines %}[m
[32m+[m[32m                {{ formset }}[m
[32m+[m[32m            {% endfor %}[m
         </table>[m
         <input type="submit" value="{{ submit_text }}">[m
     </form>[m
[1mdiff --git a/src/Gestionnaire_de_mot_de_passe/urls.py b/src/Gestionnaire_de_mot_de_passe/urls.py[m
[1mindex 21d55a1..40ae6dc 100644[m
[1m--- a/src/Gestionnaire_de_mot_de_passe/urls.py[m
[1m+++ b/src/Gestionnaire_de_mot_de_passe/urls.py[m
[36m@@ -1,19 +1,3 @@[m
[31m-"""[m
[31m-URL configuration for Gestionnaire_de_mot_de_passe project.[m
[31m-[m
[31m-The `urlpatterns` list routes URLs to views. For more information please see:[m
[31m-    https://docs.djangoproject.com/en/4.2/topics/http/urls/[m
[31m-Examples:[m
[31m-Function views[m
[31m-    1. Add an import:  from my_app import views[m
[31m-    2. Add a URL to urlpatterns:  path('', views.home, name='home')[m
[31m-Class-based views[m
[31m-    1. Add an import:  from other_app.views import Home[m
[31m-    2. Add a URL to urlpatterns:  path('', Home.as_view(), name='home')[m
[31m-Including another URLconf[m
[31m-    1. Import the include() function: from django.urls import include, path[m
[31m-    2. Add a URL to urlpatterns:  path('blog/', include('blog.urls'))[m
[31m-"""[m
 from django.contrib import admin[m
 from django.urls import include, path[m
 [m
[36m@@ -25,13 +9,12 @@[m [murlpatterns = [[m
     path('account/', include(('django.contrib.auth.urls', 'admin'), namespace='admin')), # url pour se connecter[m
     path('accounts/profile/', views.homePageLogin, name="homepage"), # url apr√©s connexion[m
     path('account/logout/', views.index),[m
[31m-    # path('username/create/', UsernameCreateView.as_view()),[m
[31m-    # path('username/create/create-username-success', TemplateUsernameView.as_view()),[m
[31m-    # path('username/display/', DisplayUsernameView.as_view(), name='username_display'),[m
[31m-    # path('username/update/<int:pk>/', UsernameUpdateView.as_view(), name='username_update'),[m
[31m-    # path('username/delete/<int:pk>/', UsernameDeleteView.as_view(), name='username_delete'),[m
[32m+[m[32m    path('username/display/', DisplayUsernameView.as_view(), name='username_display'),[m
[32m+[m[32m    path('username/update/<int:pk>/', UsernameUpdateView.as_view(), name='username_update'),[m
[32m+[m[32m    path('username/delete/<int:pk>/', UsernameDeleteView.as_view(), name='username_delete'),[m
     path('testform/', IdentifierView.as_view()),[m
     path('testform/create-username-success', TemplateIdentifierView.as_view()),[m
[32m+[m[32m    # path('generate/', views.generatePassword)[m
 [m
 [m
     ][m
[1mdiff --git a/src/Gestionnaire_de_mot_de_passe/views.py b/src/Gestionnaire_de_mot_de_passe/views.py[m
[1mindex e69eb16..6fcf595 100644[m
[1m--- a/src/Gestionnaire_de_mot_de_passe/views.py[m
[1m+++ b/src/Gestionnaire_de_mot_de_passe/views.py[m
[36m@@ -1,16 +1,19 @@[m
[32m+[m[32mimport json[m
[32m+[m[32mimport random[m
[32m+[m[32mimport string[m
 from django.http import HttpResponse[m
 from django.shortcuts import render[m
[32m+[m[32mfrom django.views import View[m
 from Gestionnaire_de_mot_de_passe.forms import SignupForm[m
 from django.core.exceptions import ObjectDoesNotExist[m
 from django.contrib.auth.decorators import login_required[m
 from user.models import customUser[m
[31m-[m
[31m-[m
[32m+[m[32mfrom django.utils import timezone[m
[32m+[m[32mfrom user.signals import session_started[m
 [m
 def homePageLogin(request):[m
[31m-    form = request.user.email[m
[31m-    print(form)[m
[31m-    return render(request, "accounts/homePageLogin.html", {"form":form})[m
[32m+[m[32m    form = request.user.email[m[41m    [m
[32m+[m[32m    return render(request, "accounts/homePageLogin.html", {"form": form})[m
 [m
 def index(request):[m
     return(request, "index.html")[m
[36m@@ -34,4 +37,22 @@[m [mdef signup(request):[m
                     print(form)[m
                     registration_user = customUser.objects.create_user(email=form["email"], password=form["password"], last_name=form["last_name"], first_name=form["first_name"], birthdate=form["birthdate"])[m
         [m
[31m-        return render(request, "accounts/signup.html", {"form":form})[m
\ No newline at end of file[m
[32m+[m[32m        return render(request, "accounts/signup.html", {"form":form})[m
[32m+[m
[32m+[m[32mdef login_success(request):[m
[32m+[m[32m    user = request.user  # Obtenez l'utilisateur connect√©[m
[32m+[m
[32m+[m[32m    # Convertir l'objet datetime en cha√Æne de caract√®res[m
[32m+[m[32m    session_start_time = timezone.now()[m
[32m+[m
[32m+[m[32m    # Convertir l'objet datetime en cha√Æne JSON s√©rialisable[m
[32m+[m[32m    session_start_time_json = json.dumps(session_start_time, default=str)[m
[32m+[m
[32m+[m[32m    # √âmettre le signal session_started avec la cha√Æne JSON[m
[32m+[m[32m    session_started.send(sender=user.__class__, request=request, user=user, session_start_time=session_start_time_json)[m
[32m+[m
[32m+[m[32m# def generatePassword(request):[m
[32m+[m[32m#     length_of_string = 8[m
[32m+[m[32m#     for x in range(1):[m
[32m+[m[32m#         password_generate = ''.join(random.choice(string.ascii_letters + string.digits + string.punctuation) for _ in range(length_of_string))[m
[32m+[m[32m#     return render(request, "generate_password.html", {"password_generate":password_generate})[m
[1mdiff --git a/src/identifier/models.py b/src/identifier/models.py[m
[1mindex 3586c87..622cd4c 100644[m
[1m--- a/src/identifier/models.py[m
[1m+++ b/src/identifier/models.py[m
[36m@@ -15,12 +15,12 @@[m [mclass Login_informations(models.Model):[m
     Username_id = models.ForeignKey(Username, on_delete=models.CASCADE)[m
     password = models.TextField()[m
     website_name = models.CharField(max_length=255)[m
[31m-[m
[31m-    def save(self, *args, **kwargs):[m
[31m-        if self.password and not self.password.startswith('pbkdf2'):[m
[31m-            salt = get_random_string(length=32)[m
[31m-            self.password = pbkdf2(self.password.encode('utf-8'), salt.encode('utf-8'), iterations=10000, dklen=128)[m
[31m-        super().save(*args, **kwargs)[m
[32m+[m[32m    # permet de chiffrer le mot de passe[m
[32m+[m[32m    # def save(self, *args, **kwargs):[m
[32m+[m[32m    #     if self.password and not self.password.startswith('pbkdf2'):[m
[32m+[m[32m    #         salt = get_random_string(length=32)[m
[32m+[m[32m    #         self.password = pbkdf2(self.password.encode('utf-8'), salt.encode('utf-8'), iterations=10000, dklen=128)[m
[32m+[m[32m    #     super().save(*args, **kwargs)[m
 [m
 [m
 [m
[1mdiff --git a/src/identifier/views.py b/src/identifier/views.py[m
[1mindex da0bf4c..ef6e188 100644[m
[1m--- a/src/identifier/views.py[m
[1m+++ b/src/identifier/views.py[m
[36m@@ -3,7 +3,7 @@[m [mfrom django.urls import reverse_lazy[m
 from django.views.generic import TemplateView, ListView, UpdateView, DeleteView[m
 from django.contrib.auth.decorators import login_required[m
 from django.utils.decorators import method_decorator[m
[31m-from extra_views import CreateWithInlinesView, InlineFormSetFactory[m
[32m+[m[32mfrom extra_views import CreateWithInlinesView, InlineFormSetFactory, UpdateWithInlinesView[m
 from identifier.forms import LoginInformationsForm, UsernameForm[m
 from identifier.models import Login_informations, Username[m
 from typing import Any, Dict[m
[36m@@ -20,9 +20,9 @@[m [mclass LoginInformationView(InlineFormSetFactory): # classe inline de IdentifierV[m
 @method_decorator(login_required(login_url="/account/login"), name="post")[m
 class IdentifierView(CreateWithInlinesView):[m
     model = Username[m
[31m-    inlines = [LoginInformationView][m
[32m+[m[32m    inlines = [LoginInformationView] # vue du formulaire enfant[m
     form_class = UsernameForm[m
[31m-    template_name = "identifier_manage/testaffiche.html"[m
[32m+[m[32m    template_name = "identifier_manage/create_identifier.html"[m
 [m
     def forms_valid(self, form, inlines):[m
                 user_id = self.request.user # r√©cup√®re les donn√©es du formulaire[m
[36m@@ -60,7 +60,7 @@[m [mclass TemplateIdentifierView(TemplateView):[m
 [m
 [m
 class DisplayUsernameView(ListView):[m
[31m-    model = Username[m
[32m+[m[32m    model = Login_informations[m
     template_name = "identifier_manage/display_usernames.html"[m
 [m
     def get_queryset(self):[m
[36m@@ -68,13 +68,14 @@[m [mclass DisplayUsernameView(ListView):[m
         user_id = self.request.user.id[m
 [m
         # Filtrer les articles dont l'auteur a le m√™me ID que l'utilisateur connect√©[m
[31m-        queryset = Username.objects.filter(User_id=user_id)[m
[32m+[m[32m        queryset = Login_informations.objects.filter(User_id=user_id)[m
         return queryset[m
     [m
 [m
 @method_decorator(login_required(login_url="/account/login"), name="post")[m
[31m-class UsernameUpdateView(UpdateView):[m
[32m+[m[32mclass UsernameUpdateView(UpdateWithInlinesView):[m
     model = Username[m
[32m+[m[32m    inlines = [LoginInformationView][m
     template_name = "identifier_manage/username.html"[m
     fields = ['username']  # Les champs que vous souhaitez modifier dans le formulaire[m
     success_url = reverse_lazy('username_display')[m
[1mdiff --git a/src/user/__pycache__/apps.cpython-311.pyc b/src/user/__pycache__/apps.cpython-311.pyc[m
[1mindex c630fcb..7133593 100644[m
Binary files a/src/user/__pycache__/apps.cpython-311.pyc and b/src/user/__pycache__/apps.cpython-311.pyc differ
[1mdiff --git a/src/user/__pycache__/models.cpython-311.pyc b/src/user/__pycache__/models.cpython-311.pyc[m
[1mindex 65903c8..ddb0efe 100644[m
Binary files a/src/user/__pycache__/models.cpython-311.pyc and b/src/user/__pycache__/models.cpython-311.pyc differ
[1mdiff --git a/src/user/apps.py b/src/user/apps.py[m
[1mindex 36cce4c..ec780c1 100644[m
[1m--- a/src/user/apps.py[m
[1m+++ b/src/user/apps.py[m
[36m@@ -1,6 +1,25 @@[m
 from django.apps import AppConfig[m
[32m+[m[32mfrom django.contrib.auth.signals import user_logged_in[m
 [m
 [m
[31m-class UserConfig(AppConfig):[m
[31m-    default_auto_field = 'django.db.models.BigAutoField'[m
[31m-    name = 'user'[m
[32m+[m
[32m+[m[32m# class UserConfig(AppConfig):[m
[32m+[m[32m#     default_auto_field = 'django.db.models.BigAutoField'[m
[32m+[m[32m#     name = 'user'[m
[32m+[m
[32m+[m[32m#     def ready(self):[m
[32m+[m[32m#         import user.signals  # Importez vos gestionnaires de signaux ici[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32m# class YourAppConfig(AppConfig):[m
[32m+[m[32m#     default_auto_field = 'django.db.models.BigAutoField'[m
[32m+[m[32m#     name = 'user'[m
[32m+[m
[32m+[m[32m#     def ready(self):[m
[32m+[m[32m#         import user.signals  # Importez vos gestionnaires de signaux ici[m
[32m+[m
[32m+[m[32m#         # Lier le gestionnaire de signal √† user_logged_in[m
[32m+[m[32m#         user_logged_in.connect(record_session_start, sender=customUser)[m
\ No newline at end of file[m
